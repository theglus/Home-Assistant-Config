
# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

# --- Telegram ---
# Bot
telegram_bot:
  - platform: polling
    api_key: !secret telegram_bot_key
    allowed_chat_ids: !secret telegram_bot_chat_ids

# Notifications    
notify:
  - name: telegram
    platform: telegram
    chat_id: !secret telegram_bot_main_chat_id

# --- Goolge Cal ---
google:
  client_id: !secret google_client_id
  client_secret: !secret google_client_secret

# --- Recorder ---
recorder:
  auto_purge: true
  purge_keep_days: 5
  commit_interval: 1
  exclude:
    entities:
      - media_player.sonny_cast

# --- Devices ---
# Dyson
dyson:
  username: !secret dyson_username
  password: !secret dyson_password
  language: US
  devices:
    - device_id: !secret kirby_device_id
      device_ip: !secret kirby_device_ip
      
# Shield
media_player:
  - platform: androidtv
    name: SHIELD TV
    host: !secret shield_ip
# Sonny
  - platform: androidtv
    name: Sonny TV
    host: !secret sonny_ip
    
# Winston
vacuum:
  - platform: xiaomi_miio
    host: !secret winston_host
    token: !secret winston_token
    name: Winston

camera:
  - platform: xiaomi_cloud_map_extractor
    host: !secret winston_host
    token: !secret winston_token
    username: !secret winston_username
    password: !secret winston_password
    draw: ["all"]
    country: us
    attributes:
      - calibration_points
      - charger
      - goto
      - goto_path
      - goto_predicted_path
      - image
      - is_empty
      - map_name
      - no_go_areas
      - no_mopping_areas
      - obstacles
      - path
      - room_numbers
      - rooms
      - vacuum_position
      - vacuum_room
      - walls
      - zones
    map_transformation:
      scale: 2
      trim:
        top: 22
        bottom: 22
        left: 22
        right: 22
    colors:
        color_map_outside: [3, 169, 244]
    scan_interval:
      seconds: 1

# --- Sensors --- 
# Google WiFi
sensor:
  - platform: google_wifi

# Workday
binary_sensor:
  - platform: workday
    country: US
    workdays: [mon, tue, wed, thu, fri]
    excludes: [sat, sun]