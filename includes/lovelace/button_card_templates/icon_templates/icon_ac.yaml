#################################################################
## Air Conditioner
#################################################################
styles:
  custom_fields:
    icon_fan: [top: 9%, left: 10%, width: 1em, position: absolute]
    icon: [top: 7%, left: 8%, width: 3.1em, position: absolute]
custom_fields:
  icon_fan: >
    [[[
      const style = `
      <svg viewBox="0 0 50 50">
        <style>
          @keyframes rotate {
            0% {
              visibility: visible;
              transform: rotate(0deg) translateZ(0);
            }
            100% {
              transform: rotate(1080deg) translateZ(0);
            }
          }
          .start {
            animation: rotate 2.8s ease-in;
            transform-origin: center;
            fill: #6B9BE0;
            visibility: hidden;
          }
          .on_delay {
            animation: rotate 1.8s linear infinite;
            transform-origin: center;
            fill: #6B9BE0;
            animation-delay: 2.8s;
            visibility: hidden;
            will-change: transform;
          }
          .on_no_delay {
            animation: rotate 1.8s linear infinite;
            transform-origin: center;
            fill: #6B9BE0;
            will-change: transform;
          }
          .on {
            animation: rotate 1.8s linear forwards;
            transform-origin: center;
            fill: #6B9BE0;
            visibility: hidden;
            will-change: transform;
          }
          .end {
            animation: rotate 2.8s;
            transform-origin: center;
            fill: #ffffff;
            animation-timing-function: cubic-bezier(.61, 1, .88, 1);
          }
        </style>
      `;
      const path = `
      <circle cx="25" cy="25" r="6.6"/>
      <path d="M31.9 30.4c-.5.6-1.1 1.1-1.7 1.5-1.4 1.1-3.2 1.7-5.2 1.7-2.3 0-4.5-.9-6-2.4-.9 1.1-1.6 2.3-2.3 3.2l-4.9 5.4c-1.8 2.7.3 5.6 2.5 7 3.9 2.4 9.8 3.1 14.1 1.9 4.6-1.3 7.9-4.7 7.4-9.7-.2-3.4-1.9-6-3.9-8.6zM17 28.3c-.4-1-.6-2.1-.6-3.3a8.7 8.7 0 0 1 6.4-8.4l-1.6-3.5L19 6.2c-1.5-2.8-5-2.5-7.3-1.2-4 2.2-7.5 6.9-8.7 11.3-1.2 4.6.2 9.2 4.7 11.3 3.1 1.3 6.1 1.2 9.3.7zm26.9-17.6c-3.3-3.4-8-4.6-12.1-1.8-2.8 1.8-4.2 4.6-5.5 7.5 4.2.6 7.4 4.2 7.4 8.6 0 .9-.1 1.7-.4 2.5 1.3.2 2.8.3 3.8.4 2.3.4 4.7 1.3 7.1 1.7 3.2.3 4.7-3 4.8-5.6.3-4.6-1.9-10.1-5.1-13.3z"/>
      `;
      if (variables.state === 'off' && variables.timeout < 2000) {
      return `${style}<g class="end">${path}</g></svg>`;
      }
      if (variables.state === 'off' && variables.timeout > 2000) {
      return `<svg viewBox="0 0 50 50" fill="#ffffff"><g>${path}</g></svg>`;
      }
      if (variables.state === 'on' && variables.timeout > 2000) {
      return `${style}<g class="on_no_delay">${path}</g></svg>`;
      }
      if (variables.state === 'on' && variables.timeout < 2000) {
      return `${style}<g class="start">${path}</g><g class="on_delay">${path}</g></svg>`;
      }
    ]]]
  icon: >
    <svg viewBox="0 0 50 50">
    <path style="clip-path: url(#mask);" fill="#9da0a2" d="M38.994978,53.349731C39.032003,54.23675,38.703445,55.100106,38.086072,55.738062C37.468698,56.376019,36.616606,56.732687,35.72889,56.724722L9.270202,56.724722C8.382171,56.732639,7.529733,56.376086,6.911779,55.738257C6.29382,55.100429,5.964396,54.23711,6.000363,53.349731L6.660331,36.474772C6.777152,34.23059,7.036411,31.996095,7.436543,29.784788L10.893871,12.039832C11.335393,10.143953,12.998015,8.783003,14.94367,8.72484L30.059171,8.72484C32.0039,8.783381,33.665232,10.144538,34.105221,12.039832L37.5438,29.788539C37.941756,31.998907,38.200999,34.232015,38.320012,36.474772L38.994978,53.349731ZM37.003827,54.695977C37.343102,54.355902,37.525208,53.889744,37.506302,53.409731L37.266314,47.409745L31.90033,48.099743L28.124267,48.099743C28.314405,47.618323,28.440478,47.11401,28.499248,46.599747L31.735338,46.599747L37.183818,45.905999L37.123821,44.424753L31.874081,45.099751L28.476749,45.099751C28.417979,44.585489,28.291906,44.081174,28.101768,43.599755L31.735338,43.599755L37.067574,42.902257L36.812586,36.527272C36.695753,34.360148,36.445288,32.202303,36.062623,30.066037L32.624044,12.321082C32.323447,11.134063,31.282221,10.283077,30.059171,10.224836L14.94367,10.224836C13.718599,10.283148,12.675738,11.135747,12.375047,12.324831L8.917719,30.081038C8.533157,32.215761,8.282681,34.372478,8.167756,36.538522L7.920268,42.913506L13.267503,43.599755L16.874824,43.599755C16.684687,44.081174,16.558614,44.585489,16.499843,45.099751L13.125011,45.099751L7.875271,44.417252L7.804024,45.898499L13.267503,46.599747L16.526092,46.599747C16.584862,47.11401,16.710935,47.618323,16.901073,48.099743L13.125011,48.099743L7.732777,47.409745L7.500289,53.409731C7.481903,53.887828,7.662472,54.352163,7.999015,54.692227C8.333307,55.0366,8.794043,55.229035,9.273952,55.224726L35.72889,55.224726C36.206947,55.228994,36.666055,55.038025,37.000076,54.695977L37.003827,54.695977ZM25.705637,42.654446C26.557636,43.499442,27.036862,44.649752,27.036821,45.849749C27.036735,48.330125,25.029688,50.342733,22.549441,50.349565C20.069194,50.356398,18.051088,48.354878,18.037338,45.87454C18.023587,43.394203,20.019377,41.37043,22.49955,41.34976C23.699449,41.339759,24.853641,41.809445,25.70564,42.654446L25.705637,42.654446ZM24.635324,47.979058C25.202779,47.415797,25.521922,46.649311,25.5219,45.849749C25.521854,44.195838,24.183321,42.853953,22.529492,42.84985C20.875663,42.845748,19.530488,44.180973,19.522234,45.834862C19.513982,47.48875,20.845762,48.837337,22.49955,48.849741C23.299051,48.855738,24.067868,48.542318,24.635324,47.979058ZM23.258887,44.347255C23.45978,44.347255,23.652272,44.427858,23.793236,44.571002C23.93406,44.711679,24.013189,44.902569,24.013189,45.101626C24.013189,45.300683,23.93406,45.491572,23.793236,45.632249L22.29331,47.132245C22.152346,47.275391,21.959854,47.355992,21.758961,47.355992C21.558069,47.355992,21.365576,47.275391,21.224613,47.132245C21.083789,46.991568,21.00466,46.800679,21.00466,46.601622C21.00466,46.402565,21.083789,46.211675,21.224613,46.070998L22.724539,44.571002C22.865501,44.427858,23.057994,44.347255,23.258887,44.347255ZM9.648933,50.349738C9.648933,49.935526,9.988058,49.599739,10.406395,49.599739C10.824732,49.599739,11.163858,49.935526,11.163858,50.349738C11.163858,50.76395,10.824732,51.099737,10.406395,51.099737C9.988058,51.099737,9.648933,50.76395,9.648933,50.349738ZM12.675033,50.349738C12.675033,49.935526,13.014158,49.599739,13.432495,49.599739C13.850832,49.599739,14.189958,49.935526,14.189958,50.349738C14.189958,50.76395,13.850832,51.099737,13.432495,51.099737C13.014158,51.099737,12.675033,50.76395,12.675033,50.349738ZM14.193707,15.849823C14.193707,15.43561,14.529477,15.099824,14.94367,15.099824L16.443596,15.099824C16.857789,15.099824,17.193559,15.43561,17.193559,15.849823C17.193559,16.264035,16.857789,16.599821,16.443596,16.599821L14.94367,16.599821C14.529477,16.599821,14.193707,16.264035,14.193707,15.849823ZM27.798037,15.849823C27.798037,15.43561,28.133807,15.099824,28.548,15.099824L30.047926,15.099824C30.462119,15.099824,30.797888,15.43561,30.797888,15.849823C30.797888,16.264035,30.462119,16.599821,30.047926,16.599821L28.548,16.599821C28.133807,16.599821,27.798037,16.264035,27.798037,15.849823ZM12.662617,29.219917C12.662617,23.787867,17.065956,19.38432,22.497749,19.38432C27.929543,19.38432,32.332882,23.787867,32.332882,29.219917C32.332882,34.651965,27.929543,39.055512,22.497749,39.055512C17.065956,39.055512,12.662617,34.651965,12.662617,29.219917ZM22.503176,37.427229C27.035737,37.427229,30.710101,33.752687,30.710101,29.219917C30.710101,24.687141,27.035734,21.012603,22.503176,21.012603C17.970614,21.012603,14.29625,24.687145,14.29625,29.219917C14.29625,33.752691,17.970618,37.427229,22.503176,37.427229Z" transform="matrix(1 0 0 1 -2.497707 -7.724841)"/></svg>
