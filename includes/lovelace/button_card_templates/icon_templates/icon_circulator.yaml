#################################################################
## Air Circulator
#################################################################
styles:
  custom_fields:
    circulator_fan: [top: 9%, left: 10%, width: 2em, position: absolute]
    circulator_base: [top: 7%, left: 8%, width: 3.1em, position: absolute]
custom_fields:
  circulator_fan: >
    [[[ const path = '<circle cx="25" cy="25" r="6.6"/> <path d="M31.9 30.4c-.5.6-1.1 1.1-1.7 1.5-1.4 1.1-3.2 1.7-5.2 1.7-2.3 0-4.5-.9-6-2.4-.9 1.1-1.6 2.3-2.3 3.2l-4.9 5.4c-1.8 2.7.3 5.6 2.5 7 3.9 2.4 9.8 3.1 14.1 1.9 4.6-1.3 7.9-4.7 7.4-9.7-.2-3.4-1.9-6-3.9-8.6zM17 28.3c-.4-1-.6-2.1-.6-3.3a8.7 8.7 0 0 1 6.4-8.4l-1.6-3.5L19 6.2c-1.5-2.8-5-2.5-7.3-1.2-4 2.2-7.5 6.9-8.7 11.3-1.2 4.6.2 9.2 4.7 11.3 3.1 1.3 6.1 1.2 9.3.7zm26.9-17.6c-3.3-3.4-8-4.6-12.1-1.8-2.8 1.8-4.2 4.6-5.5 7.5 4.2.6 7.4 4.2 7.4 8.6 0 .9-.1 1.7-.4 2.5 1.3.2 2.8.3 3.8.4 2.3.4 4.7 1.3 7.1 1.7 3.2.3 4.7-3 4.8-5.6.3-4.6-1.9-10.1-5.1-13.3z"/>';
    const style = '<svg viewBox="0 0 50 50"> <style>@keyframes rotate{0%{visibility: visible; transform: rotate(0deg);}100%{transform: rotate(1080deg);}}.start{animation: rotate 2.8s ease-in; transform-origin: center; fill: #6B9BE0; visibility: hidden;}.on{animation: rotate 1.8s linear infinite; transform-origin: center; fill: #6B9BE0; animation-delay: 2.8s; visibility: hidden;}.end{animation: rotate 2.8s; transform-origin: center; fill: #FFFFFF; animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);}</style>';
    if (entity.state === 'on') { return `${style}<g class="start">${path}</g><g class="on">${path}</g></svg>`; }
    else { return `${style}<g class="end">${path}</g></svg>`; } ]]]
  circulator_base: >
    <svg viewBox="0 0 50 50">
    <path style="clip-path: url(#mask);" fill="#9da0a2" d="M38.12714,42.7467C41.23047,45.21246,43.09888,48.98932,43.09888,53C43.09888,53.55273,42.65113,54,42.09888,54L17.90113,54C17.34888,54,16.90113,53.55273,16.90113,53C16.90113,48.98914,18.76966,45.21295,21.87324,42.7467C15.29524,39.67266,10.71607,33.01117,10.71607,25.28418C10.71607,14.65039,19.36695,6,30.00025,6C40.63355,6,49.28394,14.65039,49.28394,25.28418C49.28394,33.01117,44.70502,39.67267,38.12714,42.7467ZM35.92554,43.62671C35.52667,43.75586,35.11725,43.85871,34.70752,43.9621C34.58881,43.99231,34.47064,44.02594,34.35169,44.05384C34.0008,44.1352,33.64624,44.20393,33.28833,44.26575C33.0459,44.30835,32.80328,44.34406,32.56006,44.3772C32.26496,44.41657,31.97089,44.45691,31.67181,44.48273C31.24615,44.52045,30.82,44.53864,30.39349,44.54749C30.26141,44.55018,30.13299,44.56739,30.00024,44.56739C29.86725,44.56739,29.73858,44.55012,29.6062,44.54743C29.18005,44.53852,28.75427,44.52045,28.32898,44.48273C28.02966,44.45691,27.73535,44.41657,27.44006,44.37714C27.19702,44.34406,26.95453,44.30835,26.71222,44.26575C26.35437,44.20386,25.99994,44.1352,25.64911,44.0539C25.52936,44.02582,25.41052,43.99201,25.29108,43.96162C24.8819,43.85835,24.47303,43.75563,24.07465,43.6266C21.15595,45.47682,19.25971,48.59102,18.94703,52.00001L41.05299,52.00001C40.74031,48.5901,38.84419,45.47706,35.92555,43.62672L35.92554,43.62671ZM47.28394,25.28418C47.28394,15.75391,39.53052,8,30.00025,8C20.46949,8,12.71607,15.75391,12.71607,25.28418C12.71607,32.83148,17.58649,39.24732,24.34357,41.59747C24.74933,41.73803,25.1579,41.86017,25.56806,41.96997C25.66126,41.99475,25.75458,42.01898,25.8484,42.04224C26.22547,42.13654,26.60395,42.21796,26.98359,42.28638C27.1493,42.31568,27.31703,42.33844,27.48426,42.36298C27.8144,42.41242,28.1446,42.46021,28.47584,42.49012C28.77424,42.51636,29.07722,42.52515,29.37971,42.53596C29.79115,42.5511,30.2021,42.55122,30.61353,42.53633C30.91907,42.52553,31.22504,42.51662,31.52637,42.49007C31.85395,42.46047,32.18055,42.4131,32.50702,42.3644C32.67853,42.33931,32.85053,42.31594,33.02045,42.28585C33.39734,42.21786,33.77301,42.13698,34.1474,42.04342C34.24371,42.01955,34.33948,41.99471,34.43518,41.96926C34.84466,41.85952,35.25262,41.73769,35.65771,41.59713C42.41393,39.24667,47.28393,32.83108,47.28393,25.2842L47.28394,25.28418ZM31.70581,47.7627C31.70581,48.31543,31.25806,48.7627,30.70581,48.7627L29.29419,48.7627C28.74194,48.7627,28.29419,48.31543,28.29419,47.7627C28.29419,47.20997,28.74194,46.7627,29.29419,46.7627L30.70581,46.7627C31.25806,46.7627,31.70581,47.20997,31.70581,47.7627Z" transform="matrix(1 0 0 1 -10.000005 -5)"/></svg>
