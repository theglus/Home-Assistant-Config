path: default_view
title: Home
panel: false
icon: "mdi:home"
badges:
  - entity: person.jeffrey_glusman
  - entity: person.tiffany_conaway
cards:
  - type: vertical-stack
    cards:
      - type: entities
        style: |
          ha-card {
            border-radius: 30px;
            background: rgba(0,0,0,.3);
            box-shadow: none;
            }
        #################################################################
        #----------------------------------------------------------------
        ## Toggle Nav
        #----------------------------------------------------------------
        #################################################################
        entities:
          - type: "custom:paper-buttons-row"
            buttons:
              #################################################################
              ## General Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:home-assistant"
                state_styles:
                  General:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: General            
              #################################################################
              ## Entryway Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:coat-rack"
                state_styles:
                  Entrway:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Entryway
              #################################################################
              ## Guest Bathroom Button
              #################################################################
              # TODO: #249 Create nav toggle for guest bathroom
              #################################################################
              ## Office Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:desk"
                state_styles:
                  Office:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Office
              #################################################################
              ## Living Room Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:sofa"
                state_styles:
                  Living Room:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Living Room
              #################################################################
              ## Kitchen Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:fridge"
                state_styles:
                  Kitchen:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Kitchen
              #################################################################
              ## Loft
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:bed-king"
                state_styles:
                  Loft:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Loft
              #################################################################
              ## Loft Bathroom Button
              #################################################################
              # TODO: #252 Create nav toggle for loft bathroom
      #################################################################
      #----------------------------------------------------------------
      ## Expanded
      #----------------------------------------------------------------
      #################################################################
      - type: "custom:state-switch"
        entity: input_select.lighttoggle
        default: Entryway
        transition: none
        states:
          #################################################################
          ## General Controls
          #################################################################
          # TODO: #282 Add temp sensor long press functionality to General Controls
          General:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Weather button
                #----------------------------------------------------------------
                # TODO: #272 Create weather button
                - type: "custom:button-card"
                  custom_fields:
                    s2: |
                      [[[
                        return (states['weather.loft'].attributes.forecast[0].precipitation || 0) + ' mm precip';
                      ]]]
                  entity: weather.loft
                  label: |
                    [[[
                      return states['weather.loft'].attributes.temperature + '°F '
                    ]]]
                  name: |
                    [[[
                      return "Next hour " + states['weather.loft'].attributes.forecast[0].temperature + '°F'
                    ]]]
                  state:
                    - icon: |
                        [[[ 
                          if (states['sun.sun'].state == "below_horizon")
                            return "mdi:weather-night-partly-cloudy";
                            return "mdi:weather-partly-cloudy";
                        ]]]
                      value: partlycloudy
                    - icon: "mdi:weather-night"
                      value: clear-night
                    - icon: "mdi:weather-cloudy"
                      value: cloudy
                    - icon: "mdi:weather-cloudy-arrow-right"
                      value: overcast
                    - icon: "mdi:weather-fog"
                      value: fog
                    - icon: "mdi:weather-hail"
                      value: hail
                    - icon: "mdi:weather-lightning"
                      value: lightning
                    - icon: "mdi:weather-lightning-rainy"
                      value: lightning-rainy
                    - icon: "mdi:weather-partly-cloudy"
                      value: partlycloudy
                    - icon: "mdi:weather-pouring"
                      value: pouring
                    - icon: "mdi:weather-rainy"
                      value: rainy
                    - icon: "mdi:weather-snowy"
                      value: snowy
                    - icon: "mdi:weather-snowy-rainy"
                      value: snowy-rainy
                    - icon: "mdi:weather-sunny"
                      value: sunny
                    - icon: "mdi:weather-windy"
                      value: windy
                    - icon: "mdi:weather-windy-variant"
                      value: windy-variant
                  template:
                    - weather_layout
                    - weather
                  triggers_update:
                    - sun.sun
                #----------------------------------------------------------------
                ## Entryway button
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.group_hallway
                  custom_fields:
                    s2: |
                      [[[
                        var sensor_state = (states['binary_sensor.front_door'].state);
                        if (sensor_state == "on") return "Door is open";
                        else return "Door is closed" 
                      ]]]
                  icon: |
                    [[[ 
                      var sensor_state = (states['binary_sensor.front_door'].state);
                      if (sensor_state == "on") 
                        return "mdi:door-open"; 
                      else 
                        return "mdi:coat-rack" 
                    ]]]
                  name: Entryway
                  template:
                    - room_layout
                    - room_states
                    - room_states_on
                    - room
                  triggers_update:
                    - binary_sensor.front_door
                #----------------------------------------------------------------
                ## Office button
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.overhead
                  custom_fields:
                    s2: |
                      [[[
                        var sensor_state = (states['sensor.major_laser_printer'].state);
                        if (sensor_state == "on") return "Printer on";
                        else return "Printer off" 
                      ]]]
                  icon: |
                    [[[ 
                      var sensor_state = (states['sensor.major_laser_printer'].state);
                      if (sensor_state == "on") 
                        return "mdi:printer"; 
                      else 
                        return "mdi:desk" 
                    ]]]
                  name: Office
                  template:
                    - room_layout
                    - room_states
                    - room_states_on
                    - room
                  triggers_update:
                    - sensor.majaor_laser_printer              
                #----------------------------------------------------------------
                ## Living Room button
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.group_living_room
                  custom_fields:
                    s2: |
                      [[[
                        var sensor_state = (states['switch.switchbot'].state);
                        if (sensor_state == "on") return "Heat is on";
                        else return "Heat is off" 
                      ]]]
                  icon: |
                    [[[ 
                      var sensor_state = (states['switch.switchbot'].state);
                      if (sensor_state == "on") 
                        return "mdi:radiator"; 
                      else 
                        return "mdi:sofa" 
                    ]]]
                  label: |
                    [[[
                      return states['sensor.temperature_living_room'].state + '°F'
                    ]]]
                  name: Living Room  
                  double_tap_action:
                    action: fire-dom-event
                    browser_mod:
                      command: popup
                      title: "Living Room"
                      style:
                        hui-grid-card$: |
                          #root {
                            grid-gap: 0 !important;
                          }
                      card:
                        type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:mini-graph-card
                            entities:
                            - sensor.temperature_living_room
                            color_thresholds:
                            - value: 0
                              color: '#6aa84f'
                            - value: 68
                              color: '#f1c232'
                            - value: 72
                              color: '#e69138'
                            - value: 75
                              color: '#cc0000'                                                       
                            name: Temperature                           
                            line_width: 6
                            points_per_hour: 2
                            align_icon: left
                            align_state: right
                            align_header: left
                            hours_to_show: 24
                            show:
                              icon: true
                            tap_action:
                              action: more-info                
                  template:
                    - room_layout
                    - room_states
                    - room_states_on
                    - room
                  triggers_update:
                    - switch.switchbot
                #----------------------------------------------------------------
                ## Kitchen button
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.group_kitchen
                  custom_fields:
                    s2: |
                      [[[
                        var sensor_state = (states['fan.kitchen'].state);
                        if (sensor_state == "on") return "Dyson is on";
                        else return "Dyson is off" 
                      ]]]
                  icon: "mdi:fridge"
                  label: |
                    [[[
                      return states['sensor.kitchen_temperature'].state + '°F'
                    ]]]
                  name: Kitchen       
                  show_points: false
                  double_tap_action:
                    action: fire-dom-event
                    browser_mod:
                      command: popup
                      title: "Kitchen"
                      style:
                        hui-grid-card$: |
                          #root {
                            grid-gap: 0 !important;
                          }
                      card:
                        type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:mini-graph-card
                            entities:
                            - sensor.kitchen_temperature
                            color_thresholds:
                            - value: 0
                              color: '#6aa84f'
                            - value: 68
                              color: '#f1c232'
                            - value: 72
                              color: '#e69138'
                            - value: 75
                              color: '#cc0000'                                                       
                            name: Temperature                           
                            line_width: 6
                            points_per_hour: 2
                            align_icon: left
                            align_state: right
                            align_header: left
                            hours_to_show: 24
                            show:
                              icon: true
                            tap_action:
                              action: more-info                                  
                  template:
                    - room_layout
                    - room_states
                    - room_states_on
                    - room
                  triggers_update:
                    - fan.kitchen                
                #----------------------------------------------------------------
                ## Loft button
                #----------------------------------------------------------------
                # TODO: #278 Create loft button
                - type: "custom:button-card"
                  entity: light.loft
                  custom_fields:
                    s2: |
                      [[[
                        var sensor_state = (states['fan.kirby'].state);
                        if (sensor_state == "on") return "Dyson is on";
                        else return "Dyson is off" 
                      ]]]
                  icon: "mdi:bed-king"
                  label: |
                    [[[
                      return states['sensor.kirby_temperature'].state + '°F'
                    ]]]
                  name: Loft     
                  double_tap_action:
                    action: fire-dom-event
                    browser_mod:
                      command: popup
                      title: "Loft"
                      style:
                        hui-grid-card$: |
                          #root {
                            grid-gap: 0 !important;
                          }
                      card:
                        type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:mini-graph-card
                            entities:
                            - sensor.kirby_temperature
                            color_thresholds:
                            - value: 0
                              color: '#6aa84f'
                            - value: 68
                              color: '#f1c232'
                            - value: 72
                              color: '#e69138'
                            - value: 75
                              color: '#cc0000'                                                       
                            name: Temperature                           
                            line_width: 6
                            points_per_hour: 2
                            align_icon: left
                            align_state: right
                            align_header: left
                            hours_to_show: 24
                            show:
                              icon: true
                            tap_action:
                              action: more-info                                
                  template:
                    - room_layout
                    - room_states
                    - room_states_on
                    - room
                  triggers_update:
                    - fan.kirby                     
          #################################################################
          ## Entrway Controls
          #################################################################
          Entryway:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Hallway Marquee
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.hallway_marquee
                  custom_fields:
                    icon_marquee: >
                      <svg viewBox="0 0 50 50">
                        <path fill="#fcd40a" d="M20 22H18V17H20M6 22H4V17H6M23 4V13A2 2 0 0 1 21 15H3A2 2 0 0 1 1 13V4A2 2 0 0 1 3 2H21A2 2 0 0 1 23 4M21 4H3V13H21M20 6H15V8H20M18 9H15V11H18M14 11H4L6.73 7.36L8.73 10.09L9.46 9.55L8.2 7.82L9.91 5.55Z"/>
                        <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M20 22H18V17H20M6 22H4V17H6M23 4V13A2 2 0 0 1 21 15H3A2 2 0 0 1 1 13V4A2 2 0 0 1 3 2H21A2 2 0 0 1 23 4M21 4H3V13H21M20 6H15V8H20M18 9H15V11H18M14 11H4L6.73 7.36L8.73 10.09L9.46 9.55L8.2 7.82L9.91 5.55Z"/> 
                      </svg>`
                  styles:
                    custom_fields:
                      icon_marquee:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light
                  hold_action:
                    action: none
                #----------------------------------------------------------------
                ## Hallway Runner
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.hallway_runner
                  name: Runner
                  custom_fields:
                    icon_led: &icon_led >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                       return `
                      <svg viewBox="0 0 50 50">
                        <style>@keyframes animate{
                          0%{
                              transform: scale(0.85);
                          }
                          20%{
                              transform: scale(1.1);
                          }
                          40%{
                              transform: scale(0.95);
                          }
                          60%{
                              transform: scale(1.03);
                          }
                          80%{
                              transform: scale(0.97);
                          }
                          100%{
                              transform: scale(1);
                          }
                      }
                      .animate{
                          animation: animate 0.8s;
                           transform-origin: center;
                      }
                      </style>
                        <path fill="#9da0a2" d="M2.95 3L2 6.91L19.34 11.25L20.29 7.34L2.95 3M6.09 6.89L4.16 6.41L4.64 4.46L6.57 4.94L6.09 6.89M9.94 7.86L8 7.38L8.5 5.42L10.42 5.91L9.94 7.86M13.8 8.82L11.87 8.34L12.35 6.39L14.27 6.87L13.8 8.82M17.65 9.79L15.72 9.31L16.2 7.35L18.13 7.84L17.65 9.79M4.66 12.75L3.71 16.66L21.05 21L22 17.1L4.66 12.75M7.8 16.65L5.88 16.16L6.35 14.21L8.28 14.69L7.8 16.65M11.65 17.61L9.73 17.13L10.2 15.18L12.13 15.66L11.65 17.61M15.5 18.58L13.58 18.09L14.06 16.14L16 16.62L15.5 18.58M19.36 19.54L17.43 19.06L17.91 17.11L19.84 17.59L19.36 19.54M6.25 12.11L11 10.2L17.75 11.89L13 13.8L6.25 12.11Z"/>
                        <path class="${
                          state
                      }
                      " fill="var(--button-card-light-color-no-temperature)" d="M2.95 3L2 6.91L19.34 11.25L20.29 7.34L2.95 3M6.09 6.89L4.16 6.41L4.64 4.46L6.57 4.94L6.09 6.89M9.94 7.86L8 7.38L8.5 5.42L10.42 5.91L9.94 7.86M13.8 8.82L11.87 8.34L12.35 6.39L14.27 6.87L13.8 8.82M17.65 9.79L15.72 9.31L16.2 7.35L18.13 7.84L17.65 9.79M4.66 12.75L3.71 16.66L21.05 21L22 17.1L4.66 12.75M7.8 16.65L5.88 16.16L6.35 14.21L8.28 14.69L7.8 16.65M11.65 17.61L9.73 17.13L10.2 15.18L12.13 15.66L11.65 17.61M15.5 18.58L13.58 18.09L14.06 16.14L16 16.62L15.5 18.58M19.36 19.54L17.43 19.06L17.91 17.11L19.84 17.59L19.36 19.54M6.25 12.11L11 10.2L17.75 11.89L13 13.8L6.25 12.11Z"/>
                      </svg>`;
                      ]]]
                  styles: &icon_led_styles
                    custom_fields:
                      icon_led:
                        [top: 11%, left: 5%, width: 5.25em, position: absolute]
                  template: light-color
                #----------------------------------------------------------------
                ## Potter Lamp
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.potter_lamp
                  name: Lamp
                  custom_fields:
                    icon_lamp: &icon_lamp >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                       return `
                       <svg viewBox="0 0 50 50">
                       <style>@keyframes animate{
                          0%{
                              transform: scale(0.85);
                          }
                          20%{
                              transform: scale(1.1);
                          }
                          40%{
                              transform: scale(0.95);
                          }
                          60%{
                              transform: scale(1.03);
                          }
                          80%{
                              transform: scale(0.97);
                          }
                          100%{
                              transform: scale(1);
                          }
                      }
                      .animate{
                          animation: animate 0.8s;
                           transform-origin: center;
                      }
                      </style>
                      <path fill="#9da0a2" d="M26.4 25.6c.6-.3 1.1-.7 1.1-1.3L25 17.9l-2.5 6.4c0 .7.6 1.1 1.1 1.3v20.8h-5.5v2.7h13.7v-2.7h-5.5V25.6z"/>
                      <path class="${
                          state
                      }
                      " fill="var(--button-card-light-color-no-temperature)" d="M24.6.9l-9.4.5c-.6.1-1.9 0-2.5 2.1s-2.4 9.1-4 16.9c-.2.7-.5 2-.5 2.3s-.4 1.6.9 1.6c.8.1 7.4.3 15.9.3 8.6 0 15.1-.3 15.9-.3 1.3-.1.9-1.3.9-1.6s-.3-1.6-.5-2.3c-1.6-7.8-3.4-14.8-4-16.9s-1.9-2-2.5-2.1c-1.6-.2-6.9-.4-9.4-.5"/>undefined
                      </svg>`;
                      ]]]
                  styles: &icon_lamp_styles
                    custom_fields:
                      icon_lamp:
                        [top: 11%, left: 5%, width: 2.85em, position: absolute]
                  template: light-color
                #----------------------------------------------------------------
                ## Stair Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.stair
                  name: Lamp
                  custom_fields:
                    icon_spot: &icon_spot >
                      [[[ const state = entity.state === 'on' ? 'animate_on' : 'animate_off';
                      return `
                      <svg viewBox="0 0 50 50">
                      <style>@keyframes animate_on {
                        0%{transform: rotateZ(0deg);
                        animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                      }
                      70% {
                        transform: rotateZ(-15deg);
                        animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                      }
                      75% {
                        transform: rotateZ(-15deg);
                        animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                      }
                      88% {
                        transform: rotateZ(-11deg);
                      }
                      100% {
                        transform: rotateZ(-15deg);
                      }}
                      .animate_on {
                        animation: animate_on 0.7s;
                        transform-origin: 40% 20%;
                        animation-fill-mode: forwards;
                        animation-delay: -0.1s;
                      }
                      @keyframes animate_off {
                        0% {
                          transform: rotateZ(-15deg);
                          animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                        }
                        70% {
                          transform: rotateZ(0deg);
                          animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                        }
                        75% {
                          transform: rotateZ(0deg);
                          animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                        }
                        88% {
                          transform: rotateZ(-4deg);
                        }
                        100% {
                          transform: rotateZ(0deg);
                        }
                      }
                      .animate_off {
                        animation: animate_off 0.7s;
                        transform-origin: 40% 20%;
                        animation-fill-mode: forwards;
                      }</style>
                      <path style="clip-path: url(#mask);" fill="#9da0a2" d="M40.5.8H17.1c-.1 0-.1 0-.1.1A3.12 3.12 0 0 0 20.1 4h6.1c.1 0 .1 0 .1.1v7.4L18 19.1l3.6 3.5 9.1-8.6c.4-.4.6-1 .7-1.6V4c0-.1 0-.1.1-.1h6c1.7.1 3.1-1.3 3-3.1z"/>
                      <defs>
                        <clipPath id="mask">
                          <path class="${state}" d="M0 9.1h24l8.3 8.8H50V-9H0z"/>
                        </clipPath>
                      </defs>
                      <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M25.5 46.4s1.4.5 10.4-8.2c.5-.4 6.3-6.3 5.8-7.1-.7-.8-18.6-19.5-18.6-19.5s-.6-.9-8.6 6.4c-.6.5-8.7 8-7.7 9.1l18.7 19.3z"/>undefinedundefined
                      </svg>`;
                      ]]]
                  styles: &icon_spot_styles
                    custom_fields:
                      icon_spot:
                        [top: 11%, left: 5%, width: 2.85em, position: absolute]
                  template: light
                #----------------------------------------------------------------
                ## Front Door Sensor
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: binary_sensor.front_door   
                  custom_fields:                      
                    icon_door: >
                      <svg viewBox="0 0 50 50">
                          <path fill="currentColor" d="M16 11H18V13H16V11M12 3H19A2 2 0 0 1 21 5V19H22V21H2V19H10V5A2 2 0 0 1 12 3M12 5V19H19V5M6.2 5H2.8V4.5A1.7 1.7 0 0 1 6.2 4.5M7 5V4.5A2.5 2.5 0 0 0 2 4.5V5A1 1 0 0 0 1 6V10A1 1 0 0 0 2 11H7A1 1 0 0 0 8 10V6A1 1 0 0 0 7 5" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_door:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
          #################################################################
          ## Guest Bathroom Controls
          #################################################################
          #249 Create view for downstairs bathroom
          #----------------------------------------------------------------
          ## Washer
          #----------------------------------------------------------------
          # TODO: #250 Create washer dashboard button
          #----------------------------------------------------------------
          ## Dryer
          #----------------------------------------------------------------
          # TODO: #251 Create dryer dashboard button
          #################################################################
          ## Office Controls
          #################################################################
          Office:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Office Overhead Lights
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.overhead
                  name: Ceiling
                  custom_fields:
                    icon_overhead: &icon_overhead >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                      return `
                      <svg viewBox="0 0 50 50">
                      <style>@keyframes animate {
                        0%{transform: scale(0.85);
                      }
                      20% {
                        transform: scale(1.1);
                      }
                      40% {
                        transform: scale(0.95);
                      }
                      60% {
                        transform: scale(1.03);
                      }
                      80% {
                        transform: scale(0.97);
                      }
                      100% {
                        transform: scale(1);
                      }}
                      .animate {
                        animation: animate 0.8s;
                        transform-origin: center;
                      }</style>
                      <path fill="#9da0a2" d="M21 10C21 14.97 16.97 19 12 19C7.03 19 3 14.97 3 10V9.03C3 8.76 3.11 8.5 3.3 8.3C3.5 8.11 3.76 8 4.03 8H20C20.25 8 20.5 8.11 20.7 8.3C20.89 8.5 21 8.75 21 9V10M5 10C5 13.86 8.14 17 12 17C15.86 17 19 13.86 19 10H5M20 6V7H4V6C4 5.73 4.1 5.5 4.29 5.29C4.5 5.1 4.73 5 5 5H10V3H14V5H19C19.25 5 19.5 5.11 19.7 5.3C19.89 5.5 20 5.75 20 6Z"/>
                      <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M21 10C21 14.97 16.97 19 12 19C7.03 19 3 14.97 3 10V9.03C3 8.76 3.11 8.5 3.3 8.3C3.5 8.11 3.76 8 4.03 8H20C20.25 8 20.5 8.11 20.7 8.3C20.89 8.5 21 8.75 21 9V10M5 10C5 13.86 8.14 17 12 17C15.86 17 19 13.86 19 10H5M20 6V7H4V6C4 5.73 4.1 5.5 4.29 5.29C4.5 5.1 4.73 5 5 5H10V3H14V5H19C19.25 5 19.5 5.11 19.7 5.3C19.89 5.5 20 5.75 20 6Z"/>
                      </svg>`;
                      ]]]
                  styles: &icon_overhead_styles
                    custom_fields:
                      icon_overhead:
                        [top: 11%, left: 5%, width: 5.25em, position: absolute]
                  template: light
                #----------------------------------------------------------------
                ## Office Desk Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.overhead_desk
                  name: Desk
                  custom_fields:
                    icon_overhead: *icon_overhead
                  styles: *icon_overhead_styles
                  template: light
                #----------------------------------------------------------------
                ## Office Bed Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.overhead_bed
                  name: Bed
                  custom_fields:
                    icon_overhead: *icon_overhead
                  styles: *icon_overhead_styles
                  template: light
                #----------------------------------------------------------------
                ## Printer
                #----------------------------------------------------------------
                # TODO: #253 Additional printer controls
                - type: "custom:button-card"
                  entity: switch.major_laser_printer
                  name: Major Laser
                  custom_fields:
                    icon_printer: >
                      <svg viewBox="0 0 50 50">
                          <path fill="currentColor" d="M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_printer:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
                #----------------------------------------------------------------
                ## Office Google Home Mini
                #----------------------------------------------------------------
                # TODO: #254 Office Google Home Mini button
                #----------------------------------------------------------------
                ## Office Smart Clock
                #----------------------------------------------------------------
                # TODO: #255 Smart Clock button
          #################################################################
          ## Living Room Controls
          #################################################################
          Living Room:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Track Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.track
                  name: Track
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Garden Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.garden
                  name: Garden
                  custom_fields:
                    icon_garden: >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                      return `
                      <svg viewBox="0 0 50 50">
                      <style>@keyframes animate {
                        0%{transform: scale(0.85);
                      }
                      20% {
                        transform: scale(1.1);
                      }
                      40% {
                        transform: scale(0.95);
                      }
                      60% {
                        transform: scale(1.03);
                      }
                      80% {
                        transform: scale(0.97);
                      }
                      100% {
                        transform: scale(1);
                      }}
                      .animate {
                        animation: animate 0.8s;
                        transform-origin: center;
                      }</style>
                      <path fill="#9da0a2" d="M22.56 11.39C22.36 10.59 21.82 9.85 21.05 9.44L20.63 7.74C21.11 7.58 21.57 7.41 22 7.23V5C20 6.07 16.53 7.03 12 7.03S4 6.07 2 5V7.23C2.43 7.41 2.89 7.58 3.37 7.74L2.95 9.44C2.18 9.85 1.64 10.59 1.44 11.39C.905 13.57 .385 17.31 2.92 17.93C4 18.2 6 17.89 7.27 12.82C7.46 12 7.33 11.12 6.84 10.39L7.26 8.67C8.14 8.81 9.05 8.9 10 8.96V10.74C9.35 11.33 9 12.17 9 13C9 15.24 9.39 19 12 19C13.12 19 15 18.22 15 13C15 12.17 14.65 11.33 14 10.74V8.96C14.95 8.9 15.86 8.81 16.74 8.67L17.16 10.39C16.67 11.12 16.54 12 16.73 12.82C18 17.89 20 18.2 21.08 17.93C23.61 17.31 23.09 13.57 22.56 11.39M5.81 12.47C5.81 12.47 4.74 16.84 3.28 16.5C1.82 16.12 2.9 11.75 2.9 11.75S3.26 10.29 4.71 10.65 5.81 12.47 5.81 12.47M12 17.5C10.5 17.5 10.5 13 10.5 13S10.5 11.5 12 11.5 13.5 13 13.5 13 13.5 17.5 12 17.5M20.72 16.5C19.27 16.84 18.19 12.47 18.19 12.47S17.83 11 19.29 10.65 21.1 11.75 21.1 11.75 22.18 16.12 20.72 16.5Z"/>
                      <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M22.56 11.39C22.36 10.59 21.82 9.85 21.05 9.44L20.63 7.74C21.11 7.58 21.57 7.41 22 7.23V5C20 6.07 16.53 7.03 12 7.03S4 6.07 2 5V7.23C2.43 7.41 2.89 7.58 3.37 7.74L2.95 9.44C2.18 9.85 1.64 10.59 1.44 11.39C.905 13.57 .385 17.31 2.92 17.93C4 18.2 6 17.89 7.27 12.82C7.46 12 7.33 11.12 6.84 10.39L7.26 8.67C8.14 8.81 9.05 8.9 10 8.96V10.74C9.35 11.33 9 12.17 9 13C9 15.24 9.39 19 12 19C13.12 19 15 18.22 15 13C15 12.17 14.65 11.33 14 10.74V8.96C14.95 8.9 15.86 8.81 16.74 8.67L17.16 10.39C16.67 11.12 16.54 12 16.73 12.82C18 17.89 20 18.2 21.08 17.93C23.61 17.31 23.09 13.57 22.56 11.39M5.81 12.47C5.81 12.47 4.74 16.84 3.28 16.5C1.82 16.12 2.9 11.75 2.9 11.75S3.26 10.29 4.71 10.65 5.81 12.47 5.81 12.47M12 17.5C10.5 17.5 10.5 13 10.5 13S10.5 11.5 12 11.5 13.5 13 13.5 13 13.5 17.5 12 17.5M20.72 16.5C19.27 16.84 18.19 12.47 18.19 12.47S17.83 11 19.29 10.65 21.1 11.75 21.1 11.75 22.18 16.12 20.72 16.5Z"/> 
                      </svg>`;
                      ]]]
                  styles:
                    custom_fields:
                      icon_garden:
                        [top: 11%, left: 5%, width: 5.25em, position: absolute]
                  template: light
                  hold_action:
                    action: none
                #----------------------------------------------------------------
                ## Yumi Lamp
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.yumi_lamp
                  name: Lamp
                  custom_fields:
                    icon_lamp: *icon_lamp
                  styles: *icon_lamp_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Left Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.left_track
                  name: Left
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Center Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.center_track
                  name: Center
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Right Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.right_track
                  name: Right
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Heater
                #----------------------------------------------------------------
                # TODO: #259 Sensor cirle with Living Room Temp
                - type: "custom:button-card"
                  entity: switch.switchbot
                  icon: "mdi:fan"
                  custom_fields:
                    icon_fan: >
                      [[[ const path = '<circle cx="25" cy="25" r="6.6"/> <path d="M31.9 30.4c-.5.6-1.1 1.1-1.7 1.5-1.4 1.1-3.2 1.7-5.2 1.7-2.3 0-4.5-.9-6-2.4-.9 1.1-1.6 2.3-2.3 3.2l-4.9 5.4c-1.8 2.7.3 5.6 2.5 7 3.9 2.4 9.8 3.1 14.1 1.9 4.6-1.3 7.9-4.7 7.4-9.7-.2-3.4-1.9-6-3.9-8.6zM17 28.3c-.4-1-.6-2.1-.6-3.3a8.7 8.7 0 0 1 6.4-8.4l-1.6-3.5L19 6.2c-1.5-2.8-5-2.5-7.3-1.2-4 2.2-7.5 6.9-8.7 11.3-1.2 4.6.2 9.2 4.7 11.3 3.1 1.3 6.1 1.2 9.3.7zm26.9-17.6c-3.3-3.4-8-4.6-12.1-1.8-2.8 1.8-4.2 4.6-5.5 7.5 4.2.6 7.4 4.2 7.4 8.6 0 .9-.1 1.7-.4 2.5 1.3.2 2.8.3 3.8.4 2.3.4 4.7 1.3 7.1 1.7 3.2.3 4.7-3 4.8-5.6.3-4.6-1.9-10.1-5.1-13.3z"/>';
                      const style = '<svg viewBox="0 0 50 50"> <style>@keyframes rotate{0%{visibility: visible; transform: rotate(0deg);}100%{transform: rotate(1080deg);}}.start{animation: rotate 3.0s ease-in; transform-origin: center; fill: #ff6a00; visibility: hidden;}.on{animation: rotate 2.0s linear infinite; transform-origin: center; fill: #ff6a00; animation-delay: 3.0s; visibility: hidden;}.end{animation: rotate 3.0s; transform-origin: center; fill: #9ca2a5; animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);}</style>';
                      if (entity.state === 'on') { return `${style}<g class="start">${path}</g><g class="on">${path}</g></svg>`; }
                      else { return `${style}<g class="end">${path}</g></svg>`; } ]]]
                  styles:
                    custom_fields:
                      icon_fan:
                        [top: 9%, left: 10%, width: 2.85em, position: absolute]
                  template: base
                #----------------------------------------------------------------
                ## Shield
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: media_player.shield_tv
                  tap_action:
                    action: toggle
                  template:
                    - base
                    - icon_tv
                    - loader
                  # #263: TV control modal
                #----------------------------------------------------------------
                ## Dennis
                #----------------------------------------------------------------
                # TODO: #261 Denon stats button
                # #262 Denon control modal
          #################################################################
          ## Kitchen Controls
          #################################################################
          Kitchen:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Kitchen Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.kitchen
                  name: Track
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light-color
                #----------------------------------------------------------------
                ## Nanoleaf Dino Panesl
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.dino_panel
                  custom_fields:
                    icon_dino: >
                      <svg viewBox="0 0 50 50">
                        <path fill="#fcd40a" d="M13 2V3H12V9H11V10H9V11H8V12H7V13H5V12H4V11H3V9H2V15H3V16H4V17H5V18H6V22H8V21H7V20H8V19H9V18H10V19H11V22H13V21H12V17H13V16H14V15H15V12H16V13H17V11H15V9H20V8H17V7H22V3H21V2M14 3H15V4H14Z"/>
                        <path class="${state}" fill="F426FF" d="M13 2V3H12V9H11V10H9V11H8V12H7V13H5V12H4V11H3V9H2V15H3V16H4V17H5V18H6V22H8V21H7V20H8V19H9V18H10V19H11V22H13V21H12V17H13V16H14V15H15V12H16V13H17V11H15V9H20V8H17V7H22V3H21V2M14 3H15V4H14Z"/>
                      </svg>`
                      # TODO: Apply gradient to dino icon
                  styles:
                    custom_fields:
                      icon_dino:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light-color
                #----------------------------------------------------------------
                ## Kettle
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  aspect_ratio: 1/1
                  tap_action:
                    action: toggle
                  entity: switch.kettle
                  name: Kettle
                  # TODO: #264 State based icons for kettle button
                  style: |
                    ha-card:hover {
                      transform: scale(1.05);
                      box-shadow: 0 0 10px;
                      }
                  # TODO: #265 Countdown timer for kettle button
                  styles:
                    name:
                      - padding: 8px 1em
                      - font-family: Roboto
                      - font-size: 20px
                    card:
                      - border-radius: 30px
                      - background: "rgba(255,255,255,.1)"
                  state:
                    - value: "on"
                      styles:
                        card:
                          - background: "rgba(255,255,255,.8)"
                          - border: 1px solid white
                          - box-shadow: "0 0 10px, inset 0 0 5px"
                        name:
                          - font-weight: bold
                          - color: "rgba(0,0,0,.6)"
                        icon:
                          - color: "rgb(255, 122, 0)"
                  hold_action:
                    action: more-info
                #----------------------------------------------------------------
                ## Kitchen Google Home Mini
                #----------------------------------------------------------------
                # TODO: #256 Kitchen Google Home Mini button
                #----------------------------------------------------------------
                ## iPad Charger
                #----------------------------------------------------------------
                # TODO: iPad charger button
                #----------------------------------------------------------------
                ## Mac Charger
                #----------------------------------------------------------------
                # TODO: Mac charger button
                #----------------------------------------------------------------
                ## Paper Shredder
                #----------------------------------------------------------------
                # TODO: #266 Paper shredder button
          #################################################################
          ## Loft Controls
          #################################################################
          Loft:
            type: "custom:mod-card"
            style: |
              ha-card {
                background: rgba(0,0,0,.3);
                padding: 10px;
                border-radius: 35px;
                margin-top: none;
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Bedside Lights
                #----------------------------------------------------------------
                # TODO: #280 Animate Loft beside lights
                - type: "custom:button-card"
                  entity: light.bedside
                  name: Bedside
                  custom_fields:
                    icon_bed: &icon_bed >
                      <svg viewBox="0 0 50 50">
                        <path fill="#fcd40a" d="M10.85,2L9.18,4.5L10.32,5.25L7.14,10C7.1,10 7.05,10 7,10A2,2 0 0,0 5,12C5,12.94 5.66,13.75 6.58,13.95L10.62,20H7V22H17V20H13L8.53,13.28C8.83,12.92 9,12.47 9,12C9,11.7 8.93,11.4 8.8,11.13L12,6.37C11.78,8.05 12.75,9.89 14.45,11L18.89,4.37C17.2,3.24 15.12,3.04 13.65,3.87L10.85,2M18.33,7L16.67,9.5C17.35,9.95 18.29,9.77 18.75,9.08C19.21,8.39 19,7.46 18.33,7Z"/>
                        <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M10.85,2L9.18,4.5L10.32,5.25L7.14,10C7.1,10 7.05,10 7,10A2,2 0 0,0 5,12C5,12.94 5.66,13.75 6.58,13.95L10.62,20H7V22H17V20H13L8.53,13.28C8.83,12.92 9,12.47 9,12C9,11.7 8.93,11.4 8.8,11.13L12,6.37C11.78,8.05 12.75,9.89 14.45,11L18.89,4.37C17.2,3.24 15.12,3.04 13.65,3.87L10.85,2M18.33,7L16.67,9.5C17.35,9.95 18.29,9.77 18.75,9.08C19.21,8.39 19,7.46 18.33,7Z"/> 
                      </svg>`
                  styles: &icon_bed_styles
                    custom_fields:
                      icon_bed:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light
                #----------------------------------------------------------------
                ## Jeffrey's Lights
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.jeffreys_lamp
                  name: Jeffrey's
                  custom_fields:
                    icon_bed: *icon_bed
                  styles: *icon_bed_styles
                  template: light
                #----------------------------------------------------------------
                ## Tiffany's Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.tiffanys_lamp
                  name: Tiffany's
                  custom_fields:
                    icon_bed: *icon_bed
                  styles: *icon_bed_styles
                  template: light
                #----------------------------------------------------------------
                ## Bed Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.loft_bed_light
                  name: Ceiling
                  custom_fields:
                    icon_spot: *icon_spot
                  styles: *icon_spot_styles
                  template: light
                #----------------------------------------------------------------
                ## Desk Lights
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.loft_desk_lamp
                  name: Desk
                  custom_fields:
                    icon_lamp: *icon_lamp
                  styles: *icon_lamp_styles
                  template: light
                #----------------------------------------------------------------
                ## Nest Hub Mini
                #----------------------------------------------------------------
                # TODO: #258 Nest Hub Mini button
          #################################################################
          ## Loft Bathroom Controls
          #################################################################
          # #252: Create view for loft bathroom
          #----------------------------------------------------------------
          ## Nest Mini
          #----------------------------------------------------------------
          # TODO: #257 Bathroom Nest Mini button
