path: default_view
title: Home
panel: false
icon: "mdi:home"
badges:
  - entity: person.jeffrey_glusman
  - entity: person.tiffany_conaway
  - entity: camera.security
cards:
  - type: vertical-stack
    cards:
      - type: entities
        style: |
          ha-card {
            border-radius: 30px;
            background: rgba(0,0,0,.3);
            box-shadow: none;
            }
        #################################################################
        #----------------------------------------------------------------
        ## Toggle Nav
        #----------------------------------------------------------------
        #################################################################
        entities:
          - type: "custom:paper-buttons-row"
            buttons:
              #################################################################
              ## General Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:home-assistant"
                state_styles:
                  General:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: General
              #################################################################
              ## Entryway Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:coat-rack"
                state_styles:
                  Entrway:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Entryway
              #################################################################
              ## Guest Bathroom Button
              #################################################################
              # TODO: #249 Create nav toggle for guest bathroom
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:washing-machine"
                state_styles:
                  Laundry:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Laundry
              #################################################################
              ## Office Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:desk"
                state_styles:
                  Office:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Office
              #################################################################
              ## Living Room Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:sofa"
                state_styles:
                  Living Room:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Living Room
              #################################################################
              ## Kitchen Button
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:fridge"
                state_styles:
                  Kitchen:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Kitchen
              #################################################################
              ## Loft
              #################################################################
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:bed-king"
                state_styles:
                  Loft:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Loft
              #################################################################
              ## Loft Bathroom Button
              #################################################################
              # TODO: #252 Create nav toggle for loft bathroom
              - entity: input_select.lighttoggle
                name: false
                icon: "mdi:toilet"
                state_styles:
                  Loft:
                  template: nav_button
                template: nav_styles
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.lighttoggle
                    option: Loft Bathroom
      #################################################################
      #----------------------------------------------------------------
      ## Expanded
      #----------------------------------------------------------------
      #################################################################
      - type: "custom:state-switch"
        entity: input_select.lighttoggle
        default: Entryway
        transition: none
        states:
          #################################################################
          ## General Controls
          #################################################################
          General:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Weather button
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  custom_fields:
                    s2: |
                      [[[
                        return (states['weather.climacell_nowcast'].attributes.forecast[0].precipitation || 0) + ' mm precip';
                      ]]]
                  entity: weather.loft
                  label: |
                    [[[
                      return states['weather.climacell_nowcast'].attributes.temperature + '°F '
                    ]]]
                  name: |
                    [[[
                      return "Next hour " + states['weather.climacell_hourly'].attributes.forecast[1].temperature + '°F'
                    ]]]
                  template:
                    - weather_layout
                    - weather
                    - icon_weather
                  triggers_update:
                    - sun.sun
                #----------------------------------------------------------------
                ## Entryway button
                #----------------------------------------------------------------
                - type: "custom:decluttering-card"
                  template: declutter_room_button
                  variables:
                    - room: Entryway
                    - light: light.group_hallway
                    - sensor: binary_sensor.front_door
                    - message_on: Door is open
                    - message_off: Door is closed
                    - icon_state: mdi:door-open
                    - icon_default: mdi:coat-rack
                #----------------------------------------------------------------
                ## Office button
                #----------------------------------------------------------------
                - type: "custom:decluttering-card"
                  template: declutter_room_button
                  variables:
                    - room: Office
                    - light: light.overhead
                    - sensor: sensor.major_laser_printer
                    - message_on: Printer on
                    - message_off: Printer off
                    - icon_state: mdi:printer
                    - icon_default: mdi:desk
                #----------------------------------------------------------------
                ## Living Room button
                #----------------------------------------------------------------
                - type: "custom:decluttering-card"
                  template: declutter_temp_button
                  variables:
                    - light: light.group_living_room
                    - hvac: switch.switchbot
                    - sensor_temp: sensor.temperature_living_room
                    - message_on: Heat is on
                    - message_off: Heat is off
                    - icon_state: mdi:radiator
                    - icon_default: mdi:sofa
                    - room: Living Room
                #----------------------------------------------------------------
                ## Kitchen button
                #----------------------------------------------------------------
                - type: "custom:decluttering-card"
                  template: declutter_temp_button
                  variables:
                    - light: light.group_kitchen
                    - hvac: fan.kitchen
                    - sensor_temp: sensor.kitchen_temperature
                    - message_on: Dyson is on
                    - message_off: Dyson is off
                    - icon_state: mdi:fridge
                    - icon_default: mdi:fridge
                    - room: Kitchen
                #----------------------------------------------------------------
                ## Loft button
                #----------------------------------------------------------------
                # TODO: #278 Create loft button
                - type: "custom:decluttering-card"
                  template: declutter_temp_button
                  variables:
                    - light: light.loft
                    - hvac: fan.kirby
                    - sensor_temp: sensor.kirby_temperature
                    - message_on: Dyson is on
                    - message_off: Dyson is off
                    - icon_state: mdi:bed-king
                    - icon_default: mdi:bed-king
                    - room: Loft
          #################################################################
          ## Entrway Controls
          #################################################################
          Entryway:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Hallway Marquee
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.hallway_marquee
                  template:
                    - light
                    - icon_marquee
                #----------------------------------------------------------------
                ## Hallway Runner
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.hallway_runner
                  name: Runner
                  # TODO: #289 Create icon_led button template
                  custom_fields:
                    icon_led: &icon_led >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                       return `
                      <svg viewBox="0 0 50 50">
                        <style>@keyframes animate{
                          0%{
                              transform: scale(0.85);
                          }
                          20%{
                              transform: scale(1.1);
                          }
                          40%{
                              transform: scale(0.95);
                          }
                          60%{
                              transform: scale(1.03);
                          }
                          80%{
                              transform: scale(0.97);
                          }
                          100%{
                              transform: scale(1);
                          }
                      }
                      .animate{
                          animation: animate 0.8s;
                           transform-origin: center;
                      }
                      </style>
                        <path fill="#9da0a2" d="M2.95 3L2 6.91L19.34 11.25L20.29 7.34L2.95 3M6.09 6.89L4.16 6.41L4.64 4.46L6.57 4.94L6.09 6.89M9.94 7.86L8 7.38L8.5 5.42L10.42 5.91L9.94 7.86M13.8 8.82L11.87 8.34L12.35 6.39L14.27 6.87L13.8 8.82M17.65 9.79L15.72 9.31L16.2 7.35L18.13 7.84L17.65 9.79M4.66 12.75L3.71 16.66L21.05 21L22 17.1L4.66 12.75M7.8 16.65L5.88 16.16L6.35 14.21L8.28 14.69L7.8 16.65M11.65 17.61L9.73 17.13L10.2 15.18L12.13 15.66L11.65 17.61M15.5 18.58L13.58 18.09L14.06 16.14L16 16.62L15.5 18.58M19.36 19.54L17.43 19.06L17.91 17.11L19.84 17.59L19.36 19.54M6.25 12.11L11 10.2L17.75 11.89L13 13.8L6.25 12.11Z"/>
                        <path class="${
                          state
                      }
                      " fill="var(--button-card-light-color-no-temperature)" d="M2.95 3L2 6.91L19.34 11.25L20.29 7.34L2.95 3M6.09 6.89L4.16 6.41L4.64 4.46L6.57 4.94L6.09 6.89M9.94 7.86L8 7.38L8.5 5.42L10.42 5.91L9.94 7.86M13.8 8.82L11.87 8.34L12.35 6.39L14.27 6.87L13.8 8.82M17.65 9.79L15.72 9.31L16.2 7.35L18.13 7.84L17.65 9.79M4.66 12.75L3.71 16.66L21.05 21L22 17.1L4.66 12.75M7.8 16.65L5.88 16.16L6.35 14.21L8.28 14.69L7.8 16.65M11.65 17.61L9.73 17.13L10.2 15.18L12.13 15.66L11.65 17.61M15.5 18.58L13.58 18.09L14.06 16.14L16 16.62L15.5 18.58M19.36 19.54L17.43 19.06L17.91 17.11L19.84 17.59L19.36 19.54M6.25 12.11L11 10.2L17.75 11.89L13 13.8L6.25 12.11Z"/>
                      </svg>`;
                      ]]]
                  styles: &icon_led_styles
                    custom_fields:
                      icon_led:
                        [top: 11%, left: 5%, width: 5.25em, position: absolute]
                  template: light-color
                #----------------------------------------------------------------
                ## Potter Lamp
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.potter_lamp
                  name: Lamp
                  template:
                    - light-color
                    - icon_lamp
                #----------------------------------------------------------------
                ## Stair Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.stair
                  name: Lamp
                  template:
                    - light
                    - icon_spot
                #----------------------------------------------------------------
                ## Front Door Sensor
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: binary_sensor.front_door
                  # TODO: #38 Create icon_door button template
                  custom_fields:
                    icon_door: >
                      <svg viewBox="0 0 50 50">
                          <path fill="currentColor" d="M16 11H18V13H16V11M12 3H19A2 2 0 0 1 21 5V19H22V21H2V19H10V5A2 2 0 0 1 12 3M12 5V19H19V5M6.2 5H2.8V4.5A1.7 1.7 0 0 1 6.2 4.5M7 5V4.5A2.5 2.5 0 0 0 2 4.5V5A1 1 0 0 0 1 6V10A1 1 0 0 0 2 11H7A1 1 0 0 0 8 10V6A1 1 0 0 0 7 5" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_door:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
          #################################################################
          ## Guest Bathroom Controls
          #################################################################
          #249 Create view for downstairs bathroom
          Laundry:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Washer
                #----------------------------------------------------------------
                # TODO: #250 Create washer dashboard button
                - type: "custom:button-card"
                  entity: sensor.washer
                  custom_fields:
                    icon_washer: >
                      <svg viewBox="0 0 50 50">
                        <path fill="currentColor" d="M14.83,11.17C16.39,12.73 16.39,15.27 14.83,16.83C13.27,18.39 10.73,18.39 9.17,16.83L14.83,11.17M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M7,4A1,1 0 0,0 6,5A1,1 0 0,0 7,6A1,1 0 0,0 8,5A1,1 0 0,0 7,4M10,4A1,1 0 0,0 9,5A1,1 0 0,0 10,6A1,1 0 0,0 11,5A1,1 0 0,0 10,4M12,8A6,6 0 0,0 6,14A6,6 0 0,0 12,20A6,6 0 0,0 18,14A6,6 0 0,0 12,8Z" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_washer:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
                #----------------------------------------------------------------
                ## Dryer
                #----------------------------------------------------------------
                # TODO: #251 Create dryer dashboard button
                - type: "custom:button-card"
                  entity: sensor.dryer
                  name: Dryer
                  custom_fields:
                    icon_dryer: >
                      <svg viewBox="0 0 50 50">
                        <path fill="currentColor" d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M7,4A1,1 0 0,0 6,5A1,1 0 0,0 7,6A1,1 0 0,0 8,5A1,1 0 0,0 7,4M10,4A1,1 0 0,0 9,5A1,1 0 0,0 10,6A1,1 0 0,0 11,5A1,1 0 0,0 10,4M12,8A6,6 0 0,0 6,14A6,6 0 0,0 12,20A6,6 0 0,0 18,14A6,6 0 0,0 12,8M8.11,10.5H10C9.76,11.88 10,12.67 10.58,13.29C11.68,14.36 12.16,15.71 11.89,17.5H10C10.24,16.12 10,15.33 9.42,14.71C8.32,13.64 7.85,12.29 8.11,10.5M12.11,10.5H14C13.76,11.88 14,12.67 14.58,13.29C15.68,14.36 16.16,15.71 15.89,17.5H14C14.24,16.12 14,15.33 13.42,14.71C12.32,13.64 11.85,12.29 12.11,10.5Z" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_dryer:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
          #################################################################
          ## Office Controls
          #################################################################
          Office:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Office Overhead Lights
                #----------------------------------------------------------------
                # TODO: Animate Overhead lights
                - type: "custom:button-card"
                  entity: light.overhead
                  name: Ceiling
                  # TODO: #291 Create icon_overhead button template
                  template:
                    - light
                    - icon_overhead
                #----------------------------------------------------------------
                ## Office Desk Light
                #----------------------------------------------------------------
                # - type: "custom:button-card"
                #   entity: light.overhead_desk
                #   name: Desk
                #   template:
                #     - light
                #     - icon_overhead
                #----------------------------------------------------------------
                ## Office Bed Light
                #----------------------------------------------------------------
                # - type: "custom:button-card"
                #   entity: light.overhead_bed
                #   name: Bed
                #   template:
                #     - light
                #     - icon_overhead
                #----------------------------------------------------------------
                ## Printer
                #----------------------------------------------------------------
                # TODO: #253 Additional printer controls
                - type: "custom:button-card"
                  entity: switch.major_laser_printer
                  name: Major Laser
                  # TODO: Create icon_printer button template
                  custom_fields:
                    icon_printer: >
                      <svg viewBox="0 0 50 50">
                          <path fill="currentColor" d="M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z" />
                      </svg>
                  styles:
                    custom_fields:
                      icon_printer:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: base
                #----------------------------------------------------------------
                ## Air Circulator
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: switch.kettle
                  name: Air Circulator
                  template:
                    - base
                    - icon_circulator
                #----------------------------------------------------------------
                ## Office Google Home Mini
                #----------------------------------------------------------------
                # TODO: #254 Office Google Home Mini button
                - type: custom:button-card
                  entity: media_player.office_speaker
                  name: Office Home Mini
                  template:
                    - media
                    - icon_nest_mini
                #----------------------------------------------------------------
                ## Office Smart Clock
                #----------------------------------------------------------------
                # TODO: #255 Smart Clock button
          #################################################################
          ## Living Room Controls
          #################################################################
          Living Room:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Track Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.track
                  name: Track
                  template:
                    - light-color
                    - icon_spot
                #----------------------------------------------------------------
                ## Garden Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.garden
                  name: Garden
                  # TODO:: Create icon_garden button template
                  custom_fields:
                    icon_garden: >
                      [[[ const state = entity.state === 'on' ? 'animate' : null;
                      return `
                      <svg viewBox="0 0 50 50">
                      <style>@keyframes animate {
                        0%{transform: scale(0.85);
                      }
                      20% {
                        transform: scale(1.1);
                      }
                      40% {
                        transform: scale(0.95);
                      }
                      60% {
                        transform: scale(1.03);
                      }
                      80% {
                        transform: scale(0.97);
                      }
                      100% {
                        transform: scale(1);
                      }}
                      .animate {
                        animation: animate 0.8s;
                        transform-origin: center;
                      }</style>
                      <path fill="#9da0a2" d="M22.56 11.39C22.36 10.59 21.82 9.85 21.05 9.44L20.63 7.74C21.11 7.58 21.57 7.41 22 7.23V5C20 6.07 16.53 7.03 12 7.03S4 6.07 2 5V7.23C2.43 7.41 2.89 7.58 3.37 7.74L2.95 9.44C2.18 9.85 1.64 10.59 1.44 11.39C.905 13.57 .385 17.31 2.92 17.93C4 18.2 6 17.89 7.27 12.82C7.46 12 7.33 11.12 6.84 10.39L7.26 8.67C8.14 8.81 9.05 8.9 10 8.96V10.74C9.35 11.33 9 12.17 9 13C9 15.24 9.39 19 12 19C13.12 19 15 18.22 15 13C15 12.17 14.65 11.33 14 10.74V8.96C14.95 8.9 15.86 8.81 16.74 8.67L17.16 10.39C16.67 11.12 16.54 12 16.73 12.82C18 17.89 20 18.2 21.08 17.93C23.61 17.31 23.09 13.57 22.56 11.39M5.81 12.47C5.81 12.47 4.74 16.84 3.28 16.5C1.82 16.12 2.9 11.75 2.9 11.75S3.26 10.29 4.71 10.65 5.81 12.47 5.81 12.47M12 17.5C10.5 17.5 10.5 13 10.5 13S10.5 11.5 12 11.5 13.5 13 13.5 13 13.5 17.5 12 17.5M20.72 16.5C19.27 16.84 18.19 12.47 18.19 12.47S17.83 11 19.29 10.65 21.1 11.75 21.1 11.75 22.18 16.12 20.72 16.5Z"/>
                      <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M22.56 11.39C22.36 10.59 21.82 9.85 21.05 9.44L20.63 7.74C21.11 7.58 21.57 7.41 22 7.23V5C20 6.07 16.53 7.03 12 7.03S4 6.07 2 5V7.23C2.43 7.41 2.89 7.58 3.37 7.74L2.95 9.44C2.18 9.85 1.64 10.59 1.44 11.39C.905 13.57 .385 17.31 2.92 17.93C4 18.2 6 17.89 7.27 12.82C7.46 12 7.33 11.12 6.84 10.39L7.26 8.67C8.14 8.81 9.05 8.9 10 8.96V10.74C9.35 11.33 9 12.17 9 13C9 15.24 9.39 19 12 19C13.12 19 15 18.22 15 13C15 12.17 14.65 11.33 14 10.74V8.96C14.95 8.9 15.86 8.81 16.74 8.67L17.16 10.39C16.67 11.12 16.54 12 16.73 12.82C18 17.89 20 18.2 21.08 17.93C23.61 17.31 23.09 13.57 22.56 11.39M5.81 12.47C5.81 12.47 4.74 16.84 3.28 16.5C1.82 16.12 2.9 11.75 2.9 11.75S3.26 10.29 4.71 10.65 5.81 12.47 5.81 12.47M12 17.5C10.5 17.5 10.5 13 10.5 13S10.5 11.5 12 11.5 13.5 13 13.5 13 13.5 17.5 12 17.5M20.72 16.5C19.27 16.84 18.19 12.47 18.19 12.47S17.83 11 19.29 10.65 21.1 11.75 21.1 11.75 22.18 16.12 20.72 16.5Z"/> 
                      </svg>`;
                      ]]]
                  styles:
                    custom_fields:
                      icon_garden:
                        [top: 11%, left: 5%, width: 5.25em, position: absolute]
                  template: light
                  hold_action:
                    action: none
                #----------------------------------------------------------------
                ## Yumi Lamp
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.yumi_lamp
                  name: Lamp
                  template:
                    - light-color
                    - icon_lamp
                #----------------------------------------------------------------
                ## Left Track
                #----------------------------------------------------------------
                # - type: "custom:button-card"
                #   entity: light.left_track
                #   name: Left
                #   template:
                #     - light-color
                #     - icon_spot
                #----------------------------------------------------------------
                ## Center Track
                #----------------------------------------------------------------
                # - type: "custom:button-card"
                #   entity: light.center_track
                #   name: Center
                #   template:
                #     - light-color
                #     - icon_spot
                #----------------------------------------------------------------
                ## Right Track
                #----------------------------------------------------------------
                # - type: "custom:button-card"
                #   entity: light.right_track
                #   name: Right
                #   template:
                #     - light-color
                #     - icon_spot
                #----------------------------------------------------------------
                ## Heater
                #----------------------------------------------------------------
                # TODO: #259 Sensor cirle with Living Room Temp
                - type: "custom:button-card"
                  entity: switch.switchbot
                  template:
                    - base
                    - icon_heater
                    - loader
                #----------------------------------------------------------------
                ## Living Room Air Circulator
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: switch.air_circulator
                  name: Air Circulator
                  template:
                    - base
                    - icon_circulator
                #----------------------------------------------------------------
                ## Ice Bear
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: climate.ice_bear
                  name: Air Conditioner
                  double_tap_action:
                    action: more-info                  
                  template:
                    - base
                    - icon_ac
                    - climate
                    - loader
                  variables:
                    circle_input: >
                      [[[
                        return entity === undefined ?
                          null :
                          entity.attributes.temperature;
                      ]]]
                #----------------------------------------------------------------
                ## Shield
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: media_player.shield_tv
                  tap_action:
                    action: toggle
                  template:
                    - base
                    - icon_tv
                    - loader
                  # #263: TV control modal
                #----------------------------------------------------------------
                ## Dennis
                #----------------------------------------------------------------
                # TODO: #261 Denon stats button
                # TODO: #262 Denon control modal              
          #################################################################
          ## Kitchen Controls
          #################################################################
          Kitchen:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Kitchen Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.kitchen
                  name: Track
                  template:
                    - light-color
                    - icon_spot
                #----------------------------------------------------------------
                ## Nanoleaf Dino Panesl
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.dino_panel
                  # TODO: Create icon_dino button template
                  custom_fields:
                    icon_dino: >
                      [[[
                        if (variables.state === 'off') {
                          return `
                            <svg viewBox="0 0 50 50">           
                              <path id="dino1" fill="#FFFFFF" d="M13 2V3H12V9H11V10H9V11H8V12H7V13H5V12H4V11H3V9H2V15H3V16H4V17H5V18H6V22H8V21H7V20H8V19H9V18H10V19H11V22H13V21H12V17H13V16H14V15H15V12H16V13H17V11H15V9H20V8H17V7H22V3H21V2M14 3H15V4H14Z"/>
                            </svg>
                          `;
                        }
                        if (variables.state === 'on') {
                          return `
                            <svg viewBox="0 0 50 50">           
                              <path id="dino2" fill="#b410e6" d="M13 2V3H12V9H11V10H9V11H8V12H7V13H5V12H4V11H3V9H2V15H3V16H4V17H5V18H6V22H8V21H7V20H8V19H9V18H10V19H11V22H13V21H12V17H13V16H14V15H15V12H16V13H17V11H15V9H20V8H17V7H22V3H21V2M14 3H15V4H14Z"/>
                            </svg>
                          `;
                        }  
                      ]]]
                    # TODO: Apply gradient to dino icon
                  styles:
                    custom_fields:
                      icon_dino:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light-color
                #----------------------------------------------------------------
                ## Kitchen Google Home Mini
                #----------------------------------------------------------------
                # TODO: #256 Kitchen Google Home Mini button
                #----------------------------------------------------------------
                ## Mac/iPad Charger
                #----------------------------------------------------------------
                # TODO: #285 Mac charger button
                #----------------------------------------------------------------
                ## Paper Shredder
                #----------------------------------------------------------------
                # TODO: #266 Paper shredder button
                #----------------------------------------------------------------
                ## Kitchen Dyson
                #----------------------------------------------------------------
                # TODO: #287 Kitchen Dyson button
                - type: "custom:button-card"
                  entity: fan.kitchen
                  name: Dyson
                  template:
                    - base
                    - icon_dyson
                    - circle
                    - loader
                  variables:
                    circle_input: >
                      [[[
                        return entity === undefined ?
                          null :
                          parseInt(entity.attributes.percentage);
                      ]]]
          #################################################################
          ## Loft Controls
          #################################################################
          Loft:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
                #----------------------------------------------------------------
                ## Bedside Lights
                #----------------------------------------------------------------
                # TODO: #280 Animate Loft beside lights
                - type: "custom:button-card"
                  entity: light.bedside
                  name: Bedside
                  # TODO: Create icon_bedside button template
                  custom_fields:
                    icon_bedside: >
                      <svg viewBox="0 0 50 50" shape-rendering="geometricPrecision" text-rendering="geometricPrecision">
                        <path fill="#fcd40a" d="M10.850000,2L9.180000,4.500000L10.320000,5.250000L7.140000,10C7.100000,10,7.050000,10,7,10C5.895431,10,5,10.895431,5,12C5,12.940000,5.660000,13.750000,6.580000,13.950000L10.620000,20L7,20L7,22L17,22L17,20L13,20L8.530000,13.280000C8.830000,12.920000,9,12.470000,9,12C9,11.700000,8.930000,11.400000,8.800000,11.130000L12,6.370000C11.780000,8.050000,12.750000,9.890000,14.450000,11L18.890000,4.370000C17.200000,3.240000,15.120000,3.040000,13.650000,3.870000L10.850000,2M18.330000,7L16.670000,9.500000C17.350000,9.950000,18.290000,9.770000,18.750000,9.080000C19.210000,8.390000,19,7.460000,18.330000,7Z" transform="matrix(1 0 0 1 5.00389481000000 1.08908500000000)"/>
                        <path fill="#fcd40a" d="M10.850000,2L9.180000,4.500000L10.320000,5.250000L7.140000,10C7.100000,10,7.050000,10,7,10C5.895431,10,5,10.895431,5,12C5,12.940000,5.660000,13.750000,6.580000,13.950000L10.620000,20L7,20L7,22L17,22L17,20L13,20L8.530000,13.280000C8.830000,12.920000,9,12.470000,9,12C9,11.700000,8.930000,11.400000,8.800000,11.130000L12,6.370000C11.780000,8.050000,12.750000,9.890000,14.450000,11L18.890000,4.370000C17.200000,3.240000,15.120000,3.040000,13.650000,3.870000L10.850000,2M18.330000,7L16.670000,9.500000C17.350000,9.950000,18.290000,9.770000,18.750000,9.080000C19.210000,8.390000,19,7.460000,18.330000,7Z" transform="matrix(1 0 0 1 -4.99999999500000 -2.00000000000001)"/>
                        <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M10.850000,2L9.180000,4.500000L10.320000,5.250000L7.140000,10C7.100000,10,7.050000,10,7,10C5.895431,10,5,10.895431,5,12C5,12.940000,5.660000,13.750000,6.580000,13.950000L10.620000,20L7,20L7,22L17,22L17,20L13,20L8.530000,13.280000C8.830000,12.920000,9,12.470000,9,12C9,11.700000,8.930000,11.400000,8.800000,11.130000L12,6.370000C11.780000,8.050000,12.750000,9.890000,14.450000,11L18.890000,4.370000C17.200000,3.240000,15.120000,3.040000,13.650000,3.870000L10.850000,2M18.330000,7L16.670000,9.500000C17.350000,9.950000,18.290000,9.770000,18.750000,9.080000C19.210000,8.390000,19,7.460000,18.330000,7Z" transform="matrix(1 0 0 1 5.00389481000000 1.08908500000000)"/>
                        <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M10.850000,2L9.180000,4.500000L10.320000,5.250000L7.140000,10C7.100000,10,7.050000,10,7,10C5.895431,10,5,10.895431,5,12C5,12.940000,5.660000,13.750000,6.580000,13.950000L10.620000,20L7,20L7,22L17,22L17,20L13,20L8.530000,13.280000C8.830000,12.920000,9,12.470000,9,12C9,11.700000,8.930000,11.400000,8.800000,11.130000L12,6.370000C11.780000,8.050000,12.750000,9.890000,14.450000,11L18.890000,4.370000C17.200000,3.240000,15.120000,3.040000,13.650000,3.870000L10.850000,2M18.330000,7L16.670000,9.500000C17.350000,9.950000,18.290000,9.770000,18.750000,9.080000C19.210000,8.390000,19,7.460000,18.330000,7Z" transform="matrix(1 0 0 1 -4.99999999500000 -2.00000000000001)"/>
                      </svg>
                  styles:
                    custom_fields:
                      icon_bedside:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light
                #----------------------------------------------------------------
                ## Jeffrey's Lights
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.jeffreys_lamp
                  name: Jeffrey's
                  # TODO: Create icon_bed button template
                  custom_fields:
                    icon_bed: &icon_bed >
                      <svg viewBox="0 0 50 50">
                        <path fill="#fcd40a" d="M10.85,2L9.18,4.5L10.32,5.25L7.14,10C7.1,10 7.05,10 7,10A2,2 0 0,0 5,12C5,12.94 5.66,13.75 6.58,13.95L10.62,20H7V22H17V20H13L8.53,13.28C8.83,12.92 9,12.47 9,12C9,11.7 8.93,11.4 8.8,11.13L12,6.37C11.78,8.05 12.75,9.89 14.45,11L18.89,4.37C17.2,3.24 15.12,3.04 13.65,3.87L10.85,2M18.33,7L16.67,9.5C17.35,9.95 18.29,9.77 18.75,9.08C19.21,8.39 19,7.46 18.33,7Z"/>
                        <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M10.85,2L9.18,4.5L10.32,5.25L7.14,10C7.1,10 7.05,10 7,10A2,2 0 0,0 5,12C5,12.94 5.66,13.75 6.58,13.95L10.62,20H7V22H17V20H13L8.53,13.28C8.83,12.92 9,12.47 9,12C9,11.7 8.93,11.4 8.8,11.13L12,6.37C11.78,8.05 12.75,9.89 14.45,11L18.89,4.37C17.2,3.24 15.12,3.04 13.65,3.87L10.85,2M18.33,7L16.67,9.5C17.35,9.95 18.29,9.77 18.75,9.08C19.21,8.39 19,7.46 18.33,7Z"/> 
                      </svg>`
                  styles: &icon_bed_styles
                    custom_fields:
                      icon_bed:
                        [top: 11%, left: 6%, width: 5.25em, position: absolute]
                  template: light
                #----------------------------------------------------------------
                ## Tiffany's Light
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.tiffanys_lamp
                  name: Tiffany's
                  custom_fields:
                    icon_bed: *icon_bed
                  styles: *icon_bed_styles
                  template: light
                #----------------------------------------------------------------
                ## Bed Track
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.loft_bed_light
                  name: Ceiling
                  template:
                    - light
                    - icon_spot
                #----------------------------------------------------------------
                ## Desk Lights
                #----------------------------------------------------------------
                - type: "custom:button-card"
                  entity: light.loft_desk_lamp
                  name: Desk
                  template:
                    - light
                    - icon_lamp
                #----------------------------------------------------------------
                ## Kirby
                #----------------------------------------------------------------
                # TODO: Loft Dyson button
                - type: "custom:button-card"
                  entity: fan.kirby
                  name: Dyson
                  template:
                    - base
                    - icon_dyson
                    - circle
                    - loader
                  variables:
                    circle_input: >
                      [[[
                        return entity === undefined ?
                          null :
                          parseInt(entity.attributes.percentage);
                      ]]]
                #----------------------------------------------------------------
                ## Kitchen Google Home Mini
                #----------------------------------------------------------------
                # TODO: #258 Nest Hub Mini button
                - type: custom:button-card
                  entity: media_player.living_room_speaker
                  name: Kitchen Home Mini
                  template:
                    - media
                    - icon_nest_mini
          #################################################################
          ## Loft Bathroom Controls
          #################################################################
          # #252: Create view for loft bathroom
          Loft Bathroom:
            type: "custom:mod-card"
            style: |
              ha-card { 
                background: rgba(0,0,0,.3); 
                padding: 10px; 
                border-radius: 35px; 
                margin-top: none; 
                }
            card:
              type: grid
              columns: 3
              cards:
              #----------------------------------------------------------------
              ## Nest Mini
              #----------------------------------------------------------------
              # TODO: #257 Bathroom Nest Mini button
              - type: custom:button-card
                entity: media_player.loft_bathroom
                name: Bathroom Nest Mini
                template:
                  - media
                  - icon_nest_mini
                  - climate
                variables:
                  circle_input: >
                    [[[
                      return entity === undefined ?
                        null :
                        sensor.loft_bathroom_alarms;
                    ]]]