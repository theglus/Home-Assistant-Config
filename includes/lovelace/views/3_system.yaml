title: ha
path: ha
icon: "mdi:home-assistant"
badges: []
cards:
  #################################################################
  ## Home Assistant System Controls
  #################################################################
  - type: vertical-stack
    cards:
      - type: entities
        title: Home Assistant
        entities:
          - entity: sensor.latest_version
          - entity: binary_sensor.updater
          - entity: sensor.hacs
          - entity: sensor.time_online
          - type: custom:hui-horizontal-stack-card
            cards:
              #----------------------------------------------------------------
              ## HA CPU Utilization Graph
              #----------------------------------------------------------------
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.processor_use_percent
                  - name: CPU
                  - green: 25
                  - yellow: 50
                  - orange: 75
                  - red: 100
              #----------------------------------------------------------------
              ## HA Memory Utilization Graph
              #----------------------------------------------------------------
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.memory_use_percent
                  - name: RAM
                  - green: 25
                  - yellow: 50
                  - orange: 75
                  - red: 100
              #----------------------------------------------------------------
              ## HA CPU Temp Graph
              #----------------------------------------------------------------
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.processor_temperature
                  - name: CPU ºF
                  - green: 122
                  - yellow: 140
                  - orange: 176
                  - red: 200
          #----------------------------------------------------------------
          ## HA Controls
          #----------------------------------------------------------------
          # TODO: #312 Format Dekstop + HA system control buttons.
          - type: custom:hui-horizontal-stack-card
            card_mod:
            cards:
              - type: custom:button-card
                name: RESTART
                icon: "mdi:home-assistant"
                tap_action:
                  action: call-service
                  service: homeassistant.restart
                  haptic: light
                template: icon_name
              - type: custom:button-card
                name: HACS
                icon: "hacs:hacs"
                tap_action:
                  action: navigate
                  navigation_path: "/hacs/entry"
                  haptic: light
                template: icon_name
              - type: custom:button-card
                name: RELOAD
                icon: "mdi:reload-alert"
                tap_action:
                  action: call-service
                  service: script.reload
                  haptic: light
                template: icon_name
  #################################################################
  ## Desktop PC Controls
  #################################################################
  # TODO: #311 Off state for Desktop controls.
  - type: vertical-stack
    cards:
      - type: entities
        title: Desktop PC
        entities:
          - entity: sensor.pc_last_boot
          - entity: sensor.pc_last_active
          - entity: sensor.pc_clock_speed
          - type: custom:bar-card
            width: 55%
            height: 2em
            decimal: 0
            unit_of_measurement: "%"
            positions: &bar_card_positions
              icon: outside
              indicator: "off"
              name: outside
            severity: &bar_card_severity
              - color: "#303435"
                from: 0
                to: 74
              - color: "#6d2525"
                from: 75
                to: 100
            entity_row: true
            entities:
              #----------------------------------------------------------------
              ## PC Memory Bar
              #----------------------------------------------------------------
              - entity: sensor.pc_memory_use
                tap_action:
                  action: call-service
                  service: homeassistant.update_entity
                  service_data:
                    entity_id: sensor.pc_memory_use
          #----------------------------------------------------------------
          ## PC CPU Utilization Graph
          #----------------------------------------------------------------
          - type: custom:hui-horizontal-stack-card
            cards:
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.pc_cpu_load
                  - name: CPU
                  - green: 25
                  - yellow: 50
                  - orange: 75
                  - red: 100
              #----------------------------------------------------------------
              ## PC GPU Load Graph
              #----------------------------------------------------------------
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.pc_gpu_load
                  - name: GPU
                  - green: 25
                  - yellow: 50
                  - orange: 75
                  - red: 100
              #----------------------------------------------------------------
              ## PC GPU Temp Graph
              #----------------------------------------------------------------
              - type: "custom:decluttering-card"
                template: declutter_system_graph
                variables:
                  - sensor: sensor.pc_gpu_temp
                  - name: GPU ºF
                  - green: 140
                  - yellow: 158
                  - orange: 176
                  - red: 210
          #----------------------------------------------------------------
          ## PC Boot Button
          #----------------------------------------------------------------
          # TODO: #312 Format Dekstop + HA system control buttons.
          - type: custom:hui-horizontal-stack-card
            cards:
              - type: custom:button-card
                name: "WAKE"
                icon: "mdi:monitor"
                entity: script.wake_on_lan
                tap_action:
                  action: toggle
                  haptic: light
                template: icon_name
              # TODO: #313 Create Sleep command in HASS Workstation Service.
              - type: custom:button-card
                name: "SLEEP"
                icon: "mdi:power-sleep"
                entity: switch.wake_on_lan
                tap_action:
                  action: toggle
                  haptic: light
                template: icon_name
              - type: custom:button-card
                name: "SHUTDWN"
                icon: "mdi:power"
                entity: switch.pc_shutdown
                tap_action:
                  action: toggle
                  haptic: light
                template: icon_name
